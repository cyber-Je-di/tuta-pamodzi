{% extends "base.html" %}

{% block title %}Access Denied{% endblock %}

{% block content %}
    <div style="border: 2px solid red; padding: 30px; margin-top: 50px; text-align: center; background-color: #ffebee;">
        <h1>ğŸ›‘ Content Access Denied ğŸ›‘</h1>
        <p style="font-size: 1.2em;">You cannot access the content yet due to the following required steps:</p>

        <ul style="list-style-type: none; padding: 0; font-size: 1.1em;">
            <li style="margin: 10px 0;">
                {% if current_user.is_approved %}
                    âœ… Profile Approved by Tutor.
                {% else %}
                    âŒ **Step 1: Get Approved.** Your Tutor (**{{ current_user.assigned_tutor.full_name if current_user.assigned_tutor else 'N/A' }}**) must approve your profile on their dashboard.
                {% endif %}
            </li>
            <li style="margin: 10px 0;">
                {% if current_user.is_paid_current_month %}
                    âœ… Monthly Payment Recorded by Tutor.
                {% else %}
                    âŒ **Step 2: Submit Payment.** Your Tutor must record your current monthly payment on their dashboard.
                {% endif %}
            </li>
        </ul>

        <p style="margin-top: 25px;">Please contact your assigned Tutor, **{{ current_user.assigned_tutor.full_name if current_user.assigned_tutor else 'N/A' }}**, to complete your registration and activate your access.</p>
        <a href="{{ url_for('main.index') }}" class="btn" style="margin-top: 20px; background-color: #007bff;">Return to Home</a>
    </div>
{% endblock %}