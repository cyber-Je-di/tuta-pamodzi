{% extends "base.html" %}

{% block title %}Manage Courses{% endblock %}

{% block content %}
    <div class="dashboard-layout">
        <div class="sidebar">
            <div class="sidebar-nav">
                <a href="{{ url_for('admin.dashboard') }}">ğŸ“Š Dashboard Overview</a>
                <a href="{{ url_for('admin.manage_structure') }}">ğŸ›ï¸ Manage Structure</a>
                <a href="{{ url_for('admin.manage_courses') }}" class="active">ğŸ“š Manage Courses</a>
                <a href="{{ url_for('admin.manage_settings') }}">âš™ï¸ System Settings</a>
                <a href="#">ğŸ‘¤ User Management (WIP)</a>
            </div>
        </div>

        <div class="main-content">
            <h1>Manage Courses</h1>
            
            <div class="card" style="margin-bottom: 40px;">
                <h2 style="color: var(--color-primary); margin-top: 0;">Add New Course</h2>
                <form method="POST" action="">
                    {{ course_form.hidden_tag() }}
                    <div class="flex-columns">
                        <div style="margin-bottom: 15px;">
                            {{ course_form.category_id.label }}
                            {{ course_form.category_id() }}
                        </div>
                        <div style="margin-bottom: 15px;">
                            {{ course_form.code.label }}
                            {{ course_form.code(placeholder='e.g., CSC3000') }}
                        </div>
                    </div>
                    <div style="margin-bottom: 20px;">
                        {{ course_form.name.label }}
                        {{ course_form.name(placeholder='e.g., Computer Science') }}
                    </div>
                    <div>
                        {{ course_form.submit(class_='btn btn-primary', style='width: 100%;') }}
                    </div>
                </form>
            </div>

            <h2>Current Courses ({{ courses|length }})</h2>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>Name</th>
                        <th>Category</th>
                        <th>University</th>
                    </tr>
                </thead>
                <tbody>
                    {% for course in courses %}
                    <tr>
                        <td><strong style="color: var(--color-info);">{{ course.code }}</strong></td>
                        <td>{{ course.name }}</td>
                        <td>{{ course.category.name }}</td>
                        <td>{{ course.category.university.name }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}